# Edition fichiers et manipulation texte

Maîtriser l'édition et la manipulation de texte pour l'IA

## Note importante

Les corrections des exercices pratiques de ce module sont disponibles dans le repository GitHub du cours mentionné dans le document d'introduction (0.1).

## Table des matières

1. [Éditeurs de texte](#editeurs-texte)
2. [Manipulation de texte](#manipulation-texte)
3. [Fichiers de configuration](#fichiers-configuration)
4. [Scripts et automatisation](#scripts-automatisation)

## Éditeurs de texte

### Théorie : Choisir le bon éditeur

En IA, vous éditerez constamment des scripts Python, fichiers de configuration, notebooks, et données. Maîtriser au moins un éditeur en ligne de commande est essentiel pour le travail sur serveurs distants.

### nano - Éditeur simple

#### Avantages pour débutants

| Aspect | Description | Usage IA |
|--------|-------------|----------|
| **Simplicité** | Interface intuitive | Édition rapide configs |
| **Raccourcis visibles** | Aide en bas d'écran | Pas de mémorisation |
| **Pas de modes** | Direct à l'écriture | Édition immédiate |

#### Raccourcis essentiels

| Raccourci | Action | Usage fréquent |
|-----------|--------|----------------|
| **Ctrl+O** | Sauvegarder | Sauver script Python |
| **Ctrl+X** | Quitter | Sortir après édition |
| **Ctrl+W** | Rechercher | Trouver fonction/variable |
| **Ctrl+K** | Couper ligne | Supprimer code inutile |
| **Ctrl+U** | Coller | Restaurer code coupé |

### vim - Éditeur avancé

#### Philosophie modale

**Modes principaux :**
- **Normal** : Navigation et commandes
- **Insert** : Insertion de texte
- **Visual** : Sélection de texte
- **Command** : Commandes ex

#### Commandes de base

| Mode | Commande | Action | Usage IA |
|------|----------|--------|----------|
| **Normal** | i | Mode insertion | Éditer code |
| **Normal** | :w | Sauvegarder | Sauver script |
| **Normal** | :q | Quitter | Sortir vim |
| **Normal** | dd | Supprimer ligne | Nettoyer code |
| **Normal** | yy | Copier ligne | Dupliquer config |

#### Avantages pour l'IA

**Bénéfices spécifiques :**
- Édition rapide sur serveurs distants
- Manipulation efficace de gros fichiers
- Recherche/remplacement puissant
- Intégration avec terminal
- Configurations personnalisables

### Éditeurs graphiques

#### Options disponibles

| Éditeur | Avantages | Usage IA |
|---------|-----------|----------|
| **VS Code** | Extensions IA, debugging | Développement principal |
| **PyCharm** | IDE Python complet | Projets complexes |
| **Jupyter** | Développement interactif | Exploration données |
| **Sublime** | Rapide, multi-sélection | Édition rapide |

### Exemples pratiques

**Scénario : Éditer un script d'entraînement sur serveur distant**

Workflow typique :
1. Connexion SSH au serveur
2. Navigation vers le projet
3. Édition avec nano/vim
4. Test rapide du script
5. Lancement entraînement

### Pratique non corrigée

**Exercice 1 : Maîtrise nano**
- Créez et éditez plusieurs fichiers Python
- Pratiquez recherche et remplacement
- Gérez l'édition de gros fichiers de configuration

**Exercice 2 : Introduction vim**
- Apprenez les modes de base
- Pratiquez navigation et édition simple
- Configurez vim pour Python

## Manipulation de texte

### Théorie : Traitement de données textuelles

En IA, vous manipulerez souvent des logs, fichiers CSV, résultats d'expériences, et configurations. Les outils Unix sont puissants pour ces tâches.

### grep - Recherche dans le texte

#### Recherche de base

| Option | Description | Usage IA |
|--------|-------------|----------|
| **grep "pattern" file** | Recherche simple | Trouver erreurs dans logs |
| **grep -i "pattern"** | Insensible casse | Recherche flexible |
| **grep -r "pattern"** | Recherche récursive | Chercher dans projet |
| **grep -n "pattern"** | Avec numéros de ligne | Localiser précisément |

#### Expressions régulières

**Patterns utiles en IA :**
- **'error\|Error'** : Toutes les erreurs
- **'epoch [0-9]+'** : Numéros d'epoch
- **'loss: [0-9.]+' ** : Valeurs de loss
- **'^import .*torch'** : Imports PyTorch

### sed - Édition de flux

#### Substitutions courantes

| Commande | Description | Usage IA |
|----------|-------------|----------|
| **sed 's/old/new/'** | Remplacer première occurrence | Corriger chemin dataset |
| **sed 's/old/new/g'** | Remplacer toutes occurrences | Mise à jour globale |
| **sed -i 's/old/new/g'** | Modification en place | Édition directe fichier |

#### Applications IA

**Cas d'usage typiques :**
- Modifier chemins de datasets en masse
- Corriger paramètres dans configs
- Nettoyer logs d'entraînement
- Formater résultats d'expériences

### awk - Traitement avancé

#### Extraction de données

**Commandes utiles :**
- **awk '{print $1}'** : Première colonne
- **awk '{sum+=$3} END {print sum}'** : Somme colonne 3
- **awk '/pattern/ {print $0}'** : Lignes matching pattern

#### Analyse de logs IA

**Exemples pratiques :**
- Extraire métriques de performance
- Calculer moyennes sur epochs
- Filtrer logs par type d'erreur
- Formater résultats pour analyse

### Pipes et combinaisons

#### Chaînes de traitement

**Exemples IA :**
- **grep "epoch" train.log | awk '{print $4}' | sort -n** : Progression epochs
- **find . -name "*.py" | xargs grep "import torch"** : Dépendances PyTorch
- **tail -f train.log | grep "loss"** : Suivi loss en temps réel

### Exemples pratiques

**Scénario : Analyser les logs d'entraînement**

Tâches typiques :
1. **Extraire erreurs** : grep "ERROR" train.log
2. **Progression loss** : grep "loss:" | awk '{print $3}'
3. **Epochs réussis** : grep "epoch.*completed"
4. **Métriques moyennes** : calculs avec awk

### Pratique non corrigée

**Exercice 3 : Analyse de logs**
- Créez des fichiers de logs simulés
- Extrayez différents types d'informations
- Combinez plusieurs commandes avec pipes
- Automatisez l'analyse

**Exercice 4 : Nettoyage de données**
- Manipulez des fichiers CSV de données
- Pratiquez sed pour corrections en masse
- Utilisez awk pour calculs statistiques
- Formatez les résultats

## Fichiers de configuration

### Théorie : Gestion des configurations IA

Les projets IA utilisent de nombreux fichiers de configuration : YAML pour les hyperparamètres, JSON pour les métadonnées, requirements.txt pour les dépendances, .env pour les variables.

### Formats courants

#### YAML - Configuration lisible

**Avantages :**
- Syntaxe claire et lisible
- Support des structures complexes
- Standard pour Kubernetes, CI/CD
- Utilisé par de nombreux frameworks ML

**Structure typique :**
- Paramètres modèle
- Configuration dataset
- Hyperparamètres entraînement
- Chemins fichiers et directories

#### JSON - Configuration structurée

**Usage en IA :**
- Métadonnées de datasets
- Configuration d'APIs
- Résultats d'expériences
- Paramètres de modèles sauvés

#### requirements.txt - Dépendances Python

**Bonnes pratiques :**
- Versions exactes pour reproductibilité
- Séparation dev/prod
- Commentaires pour justifications
- Mise à jour régulière

### Fichiers .env

#### Variables d'environnement

**Contenu typique :**
- Clés API (OpenAI, Hugging Face)
- Chemins vers datasets
- Configuration base de données
- URLs de services distants

#### Sécurité

**Règles importantes :**
- Jamais dans le contrôle de version
- Permissions restrictives (600)
- Template .env.example pour l'équipe
- Rotation régulière des secrets

### Scripts de configuration

#### Automatisation setup

**Scripts utiles :**
- Installation environnement complet
- Configuration automatique serveurs
- Déploiement configurations
- Validation setup

#### Templates réutilisables

**Configurations types :**
- Setup développement local
- Configuration serveur entraînement
- Environment production
- Setup CI/CD

### Exemples pratiques

**Scénario : Configuration projet NLP complet**

Fichiers nécessaires :
1. **config.yaml** : Hyperparamètres et paths
2. **requirements.txt** : Dépendances Python
3. **.env** : Clés API et variables sensibles
4. **setup.sh** : Script installation automatique

### Pratique non corrigée

**Exercice 5 : Configuration complète**
- Créez une configuration YAML complexe
- Éditez requirements.txt avec versions exactes
- Configurez fichier .env sécurisé
- Testez chargement de configuration

**Exercice 6 : Scripts d'automatisation**
- Créez script de setup environnement
- Automatisez validation configuration
- Pratiquez backup/restore configs
- Documentez votre setup

## Scripts et automatisation

### Théorie : Automatiser les tâches IA

L'IA implique de nombreuses tâches répétitives : préparation données, lancement d'expériences, collecte de résultats. L'automatisation avec des scripts bash améliore l'efficacité.

### Scripts bash de base

#### Structure recommandée

**Template script IA :**
1. **Shebang** : #!/bin/bash
2. **Variables** : Configuration paths/parameters
3. **Fonctions** : Tâches réutilisables
4. **Validation** : Vérification prérequis
5. **Logging** : Traçabilité actions
6. **Cleanup** : Nettoyage en cas d'erreur

#### Bonnes pratiques

| Practice | Description | Bénéfice IA |
|----------|-------------|-------------|
| **set -e** | Arrêt sur erreur | Évite corruptions |
| **set -u** | Erreur variables non définies | Debug facilité |
| **Validation args** | Vérifier paramètres | Scripts robustes |
| **Logging détaillé** | Tracer actions | Debug et audit |

### Scripts d'entraînement

#### Automation complète

**Fonctionnalités essentielles :**
- Préparation environnement (conda activate)
- Validation données et configuration
- Lancement entraînement avec logging
- Sauvegarde automatique résultats
- Nettoyage ressources

#### Gestion d'erreurs

**Robustesse nécessaire :**
- Validation prérequis (GPU disponible, données présentes)
- Gestion interruptions gracieuses
- Sauvegarde état en cas d'erreur
- Notifications fin d'entraînement

### Scripts de données

#### Pipeline ETL

**Étapes automatisées :**
1. **Extract** : Téléchargement/lecture données
2. **Transform** : Nettoyage et préparation
3. **Load** : Sauvegarde format final
4. **Validate** : Vérification qualité

#### Monitoring qualité

**Vérifications automatiques :**
- Intégrité fichiers
- Statistiques descriptives
- Détection anomalies
- Validation schémas

### Scripts de déploiement

#### Automatisation MLOps

**Processus complet :**
- Validation modèle entraîné
- Tests performance
- Packaging pour production
- Déploiement automatique
- Monitoring post-déploiement

### Exemples pratiques

**Scénario : Pipeline complet d'expérimentation**

Script intégré :
1. **Préparation** : Setup environnement et données
2. **Entraînement** : Multiple runs avec hyperparamètres
3. **Évaluation** : Tests et métriques
4. **Rapport** : Génération résultats
5. **Archivage** : Sauvegarde expérience complète

### Debugging et maintenance

#### Techniques debug

**Méthodes efficaces :**
- **set -x** : Trace exécution
- **echo debug** : Messages intermédiaires
- **trap** : Gestion signaux
- **Logs détaillés** : Timestamping actions

#### Maintenance scripts

**Évolution et maintenance :**
- Documentation inline
- Tests unitaires bash
- Versioning des scripts
- Refactoring régulier

### Pratique non corrigée

**Exercice 7 : Script d'entraînement**
- Créez un script robuste d'entraînement
- Implémentez gestion d'erreurs complète
- Ajoutez logging et validation
- Testez dans différents scénarios

**Exercice 8 : Pipeline données**
- Automatisez traitement d'un dataset
- Créez script de validation qualité
- Implémentez monitoring continu
- Documentez le processus

**Exercice 9 : Automatisation avancée**
- Créez suite de scripts intégrés
- Automatisez workflow complet ML
- Implémentez notifications et alertes
- Pratiquez debugging et maintenance

## Conclusion

### Points clés à retenir

- **Éditeurs** : Maîtriser nano/vim pour édition distante
- **Manipulation texte** : grep, sed, awk pour traitement données
- **Configuration** : YAML, JSON, .env pour projets structurés
- **Scripts** : Automatisation bash pour workflows IA

### Compétences acquises

Après ce module, vous devriez être capable de :
- Éditer efficacement des fichiers sur serveurs distants
- Manipuler et analyser des données textuelles
- Créer et gérer des configurations complexes
- Automatiser les workflows IA avec des scripts robustes

### Prochaines étapes

Le module suivant couvrira la gestion des archives et compression, essentiels pour gérer les gros datasets et sauvegardes en IA.
